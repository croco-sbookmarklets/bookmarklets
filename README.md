# bookmarklets


# LIGHTS ON LIGHTS ONNN
javascript:(function()%7Bvar style %3D document.createElement("style")%3B%0Adocument.body.appendChild(style)%3B%0A%0Avar canvas %3D document.createElement("canvas")%3B%0Acanvas.id %3D "canvas"%3B%0Adocument.body.appendChild(canvas)%3B%0A%0Avar context %3D canvas.getContext("2d")%3B%0A%0A%0Afunction outlineBounds() %7B%0A%09context.clearRect(0%2C 0%2C window.innerWidth%2C window.innerHeight)%3B%0A%09context.beginPath()%3B%0A%09var bounds %3D Array.from(document.querySelectorAll("*")).map(function (e) %7B%0A%09%09return e.getBoundingClientRect()%3B%0A%09%7D)%3B%0A%09var withinBounds %3D bounds.filter(function (e) %7B%0A%09%09var viewVertical %3D window.scrollY < e.bottom %7C%7C e.top < window.scrollY %2B window.innerHeight%3B%0A%09%09var viewHorizontal %3D window.scrollX < e.right %7C%7C e.left < window.scrollX %2B window.innerWidth%3B%0A%09%09return viewVertical %26%26 viewHorizontal%3B%0A%09%7D)%3B%0A%09withinBounds.forEach(function (e) %7B%0A%09%09context.rect(%0A%09%09%09e.left%2C%0A%09%09%09e.top%2C%0A%09%09%09e.right - e.left%2C%0A%09%09%09e.bottom - e.top%0A%09%09)%3B%0A%09%7D)%3B%0A%09context.stroke()%3B%0A%7D%0Afunction fillBounds() %7B%0A%09context.clearRect(0%2C 0%2C window.innerWidth%2C window.innerHeight)%3B%0A%09context.fillStyle %3D "%2300000011"%3B%0A%09%0A%09var bounds %3D Array.from(document.querySelectorAll("*")).map(function (e) %7B%0A%09%09return e.getBoundingClientRect()%3B%0A%09%7D)%3B%0A%09var withinBounds %3D bounds.filter(function (e) %7B%0A%09%09var viewVertical %3D window.scrollY < e.bottom %7C%7C e.top < window.scrollY %2B window.innerHeight%3B%0A%09%09var viewHorizontal %3D window.scrollX < e.right %7C%7C e.left < window.scrollX %2B window.innerWidth%3B%0A%09%09return viewVertical %26%26 viewHorizontal%3B%0A%09%7D)%3B%0A%09withinBounds.forEach(function (e) %7B%0A%09%09context.fillRect(%0A%09%09%09e.left%2C%0A%09%09%09e.top%2C%0A%09%09%09e.right - e.left%2C%0A%09%09%09e.bottom - e.top%0A%09%09)%3B%0A%09%7D)%3B%0A%7D%0A%0Afunction resizeCanvas() %7B%0A%09style.innerHTML %3D %60%23canvas %7B%0A%09%09position%3A fixed%3B%0A%09%09left%3A 0%3B%0A%09%09top%3A 0%3B%0A%09%09width%3A 100%25%3B%0A%09%09height%3A 100%25%3B%0A%09%09z-index%3A 9999%3B%0A%09%09pointer-events%3A none%3B%0A%09%7D%60%3B%0A%09canvas.width %3D window.innerWidth%3B%0A%09canvas.height %3D window.innerHeight%3B%0A%09fillBounds()%3B%0A%7D%0A%0AresizeCanvas()%3B%0A%0Awindow.addEventListener("scroll"%2C fillBounds)%3B%0Awindow.addEventListener("resize"%2C resizeCanvas)%3B%0A%0Avar pixelSize %3D 8%3B%0Avar halfPixel %3D Math.floor(pixelSize %2F 2)%3B%0A%0Afunction drawPixel(x%2C y%2C r%2C g%2C b%2C a) %7B%0A%09context.fillStyle %3D "rgba(" %2B %5Br%2C g%2C b%2C a%5D.join("%2C ") %2B ")"%3B%0A%09context.fillRect(x - halfPixel%2C y - halfPixel%2C pixelSize%2C pixelSize)%3B%0A%7D%0A%0Afunction distanceSquared(a%2C b) %7B%0A%09var dx %3D b.x - a.x%3B%0A%09var dy %3D b.y - a.y%3B%0A%09return dx * dx %2B dy * dy%3B%0A%7D%0A%0Afunction main(mouse) %7B%0A%09fillBounds()%3B%0A%09var data %3D context.getImageData(0%2C 0%2C context.canvas.width%2C context.canvas.height).data%3B%0A%09context.clearRect(0%2C 0%2C context.canvas.width%2C context.canvas.height)%3B%0A%09for (var x %3D 0%3B x < context.canvas.width%3B x %2B%3D pixelSize) %7B%0A%09%09for (var y %3D 0%3B y < context.canvas.height%3B y %2B%3D pixelSize) %7B%0A%09%09%09var pixel %3D %7B"x"%3A x%2C "y"%3A y%7D%3B%0A%09%09%09var intensityMouse %3D 1 %2F distanceSquared(pixel%2C mouse)%3B%0A%09%09%09var colorMouse %3D %7B"r"%3A 0%2C "g"%3A 255%2C "b"%3A 255%7D%3B%0A%09%09%09var copy %3D %7B"x"%3A window.innerWidth - mouse.x%2C "y"%3A window.innerHeight - mouse.y%7D%3B%0A%09%09%09var intensityCopy %3D 1 %2F distanceSquared(pixel%2C copy)%3B%0A%09%09%09var colorCopy %3D %7B"r"%3A 255%2C "g"%3A 0%2C "b"%3A 0%7D%3B%0A%09%09%09var intensity %3D intensityMouse %2B intensityCopy%3B%0A%09%09%09var color %3D %7B%0A%09%09%09%09"r"%3A Math.floor((colorMouse.r * intensityMouse %2B colorCopy.r * intensityCopy) %2F intensity)%2C%0A%09%09%09%09"g"%3A Math.floor((colorMouse.g * intensityMouse %2B colorCopy.g * intensityCopy) %2F intensity)%2C%0A%09%09%09%09"b"%3A Math.floor((colorMouse.b * intensityMouse %2B colorCopy.b * intensityCopy) %2F intensity)%0A%09%09%09%7D%3B%0A%09%09%09if (intensity > 0.000001) %7B%0A%09%09%09%09var ha %3D 256 * intensity * (256 - data%5B(x %2B y * window.innerWidth) * 4 %2B 3%5D)%3B%0A%09%09%09%09drawPixel(x%2C y%2C Math.floor(color.r * ha)%2C Math.floor(color.g * ha)%2C Math.floor(color.b * ha)%2C 1 - ha)%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%0A%7D%0A%0Awindow.addEventListener("mousemove"%2C main)%3B%7D)()%3B
